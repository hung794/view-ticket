<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, shrink-to-fit=9">
    <meta name="description" content="Gambolthemes">
    <meta name="author" content="Gambolthemes">
    <title>Barren - Simple Online Event Ticketing System</title>
    <link rel="icon" type="image/png" href="images/fav.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <link href='vendor/unicons-2.0.1/css/unicons.css' rel='stylesheet'>
    <link href="css/style.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">
    <link href="css/night-mode.css" rel="stylesheet">
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="vendor/OwlCarousel/assets/owl.carousel.css" rel="stylesheet">
    <link href="vendor/OwlCarousel/assets/owl.theme.default.min.css" rel="stylesheet">
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/movie-showing.css">
</head>

<body class="d-flex flex-column h-100">

    <header class="header">
        <div class="header-inner">
            <nav
                class="navbar navbar-expand-lg bg-barren barren-head navbar fixed-top justify-content-sm-start pt-0 pb-0">
                <div class="container">
                    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
                        <span class="navbar-toggler-icon">
                            <i class="fa-solid fa-bars"></i>
                        </span>
                    </button>
                    <a class="navbar-brand order-1 order-lg-0 ml-lg-0 ml-2 me-auto" href="index.html">
                        <div class="res-main-logo">
                            <img src="images/logo-icon.svg" alt="">
                        </div>
                        <div class="main-logo" id="logo">
                            <img src="images/logo.svg" alt="">
                            <img class="logo-inverse" src="images/dark-logo.svg" alt="">
                        </div>
                    </a>
                    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
                        aria-labelledby="offcanvasNavbarLabel">
                        <div class="offcanvas-header">
                            <div class="offcanvas-logo" id="offcanvasNavbarLabel">
                                <img src="images/logo-icon.svg" alt="">
                            </div>
                            <button type="button" class="close-btn" data-bs-dismiss="offcanvas" aria-label="Close">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>
                        <div class="offcanvas-body">
                            <div class="offcanvas-top-area">
                                <div class="create-bg">
                                    <a href="create.html" class="offcanvas-create-btn">
                                        <i class="fa-solid fa-calendar-days"></i>
                                        <span>Create Event</span>
                                    </a>
                                </div>
                            </div>
                            <ul class="navbar-nav justify-content-end flex-grow-1 pe_5">
                                <li class="nav-item">
                                    <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                        aria-expanded="false">
                                        Explore Events
                                    </a>
                                    <ul class="dropdown-menu dropdown-submenu">
                                        <li><a class="dropdown-item" href="explore_events.html">Explore Events</a></li>
                                        <li><a class="dropdown-item" href="venue_event_detail_view.html">Venue Event
                                                Detail View</a></li>
                                        <li><a class="dropdown-item" href="online_event_detail_view.html">Online Event
                                                Detail View</a></li>
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="pricing.html">Pricing</a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                        aria-expanded="false">
                                        Blog
                                    </a>
                                    <ul class="dropdown-menu dropdown-submenu">
                                        <li><a class="dropdown-item" href="our_blog.html">Our Blog</a></li>
                                        <li><a class="dropdown-item" href="blog_detail_view.html">Blog Detail View</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                        aria-expanded="false">
                                        Help
                                    </a>
                                    <ul class="dropdown-menu dropdown-submenu">
                                        <li><a class="dropdown-item" href="faq.html">FAQ</a></li>
                                        <li><a class="dropdown-item" href="help_center.html">Help Center</a></li>
                                        <li><a class="dropdown-item" href="contact_us.html">Contact Us</a></li>
                                    </ul>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                        aria-expanded="false">
                                        Pages
                                    </a>
                                    <ul class="dropdown-menu dropdown-submenu">
                                        <li>
                                            <a class="dropdown-item submenu-item" href="#">Other Pages</a>
                                            <ul class="submenu dropdown-menu">
                                                <li><a class="dropdown-item pe-5" href="sign_in.html">Sign In</a></li>
                                                <li><a class="dropdown-item pe-5" href="sign_up.html">Sign Up</a></li>
                                                <li><a class="dropdown-item pe-5" href="forgot_password.html">Forgot
                                                        Password</a></li>
                                                <li><a class="dropdown-item pe-5" href="about_us.html">About Us</a></li>
                                                <li><a class="dropdown-item pe-5" href="checkout.html">Checkout</a></li>
                                                <li><a class="dropdown-item pe-5" href="checkout_premium.html">Checkout
                                                        Premium</a></li>
                                                <li><a class="dropdown-item pe-5" href="invoice.html">Invoice</a></li>
                                                <li><a class="dropdown-item pe-5" href="coming_soon.html">Coming
                                                        Soon</a></li>
                                                <li><a class="dropdown-item pe-5" href="error_404.html">Error 404</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <a class="dropdown-item submenu-item" href="#">Create Event</a>
                                            <ul class="submenu dropdown-menu">
                                                <li><a class="dropdown-item pe-5" href="create.html">Create</a></li>
                                                <li><a class="dropdown-item pe-5" href="create_venue_event.html">Create
                                                        Venue Event</a></li>
                                                <li><a class="dropdown-item pe-5" href="create_online_event.html">Create
                                                        Online Event</a></li>
                                            </ul>
                                        </li>
                                        <li>
                                            <a class="dropdown-item submenu-item" href="#">Events View</a>
                                            <ul class="submenu dropdown-menu">
                                                <li><a class="dropdown-item pe-5"
                                                        href="online_event_detail_view.html">Online Event Detail
                                                        View</a></li>
                                                <li><a class="dropdown-item pe-5"
                                                        href="venue_event_detail_view.html">Venue Event Detail View</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a class="dropdown-item" href="booking_confirmed.html">Booking Confirmed</a>
                                        </li>
                                        <li><a class="dropdown-item" href="attendee_profile_view.html">Attendee Profile
                                                View</a></li>
                                        <li><a class="dropdown-item" href="organiser_profile_view.html">Organiser
                                                Profile View</a></li>
                                        <li><a class="dropdown-item" href="my_organisation_dashboard.html">Organization
                                                Dashboard</a></li>
                                        <li><a class="dropdown-item" href="sell_tickets_online.html">Sell Tickets
                                                Online</a></li>
                                        <li><a class="dropdown-item" href="refer_a_friend.html">Refer a Friend</a></li>
                                        <li><a class="dropdown-item" href="term_and_conditions.html">Terms &
                                                Conditions</a></li>
                                        <li><a class="dropdown-item" href="privacy_policy.html">Privacy Policy</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="offcanvas-footer">
                            <div class="offcanvas-social">
                                <h5>Follow Us</h5>
                                <ul class="social-links">
                                    <li><a href="#" class="social-link"><i class="fab fa-facebook-square"></i></a>
                                    <li><a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                                    <li><a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                                    <li><a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                                    <li><a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="right-header order-2">
                        <ul class="align-self-stretch">
                            <li>
                                <a href="create.html" class="create-btn btn-hover">
                                    <i class="fa-solid fa-calendar-days"></i>
                                    <span>Create Event</span>
                                </a>
                            </li>
                            <li class="dropdown account-dropdown">
                                <a href="#" class="account-link" role="button" id="accountClick"
                                    data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-expanded="false">
                                    <img src="images/profile-imgs/img-13.jpg" alt="">
                                    <i class="fas fa-caret-down arrow-icon"></i>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-account dropdown-menu-end"
                                    aria-labelledby="accountClick">
                                    <li>
                                        <div class="dropdown-account-header">
                                            <div class="account-holder-avatar">
                                                <img src="images/profile-imgs/img-13.jpg" alt="">
                                            </div>
                                            <h5>John Doe</h5>
                                            <p><a href="/cdn-cgi/l/email-protection" class="__cf_email__"
                                                    data-cfemail="375d585f5953585277524f565a475b521954585a">[email&#160;protected]</a>
                                            </p>
                                        </div>
                                    </li>
                                    <li class="profile-link">
                                        <a href="my_organisation_dashboard.html" class="link-item">My Organisation</a>
                                        <a href="organiser_profile_view.html" class="link-item">My Profile</a>
                                        <a href="sign_in.html" class="link-item">Sign Out</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="night_mode_switch__btn">
                                    <div id="night-mode" class="fas fa-moon fa-sun"></div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="overlay"></div>
        </div>
    </header>


    <div class="wrapper">
        <div class="breadcrumb-block">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-md-10">
                        <div class="barren-breadcrumb">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">Showing Movie</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="event-dt-block p-80">
            <div class="container">
                <div class="showing-container">
                    <div class="showing-info">
                        <div class="showing-info__film">
                            <div class="showing-info__film-name">NGƯỜI MÔI GIỚI</div>
                            <div class="showing-info__film-time">
                                <span class="roomFilm">C13</span>
                                <span>|</span>
                                <span class="durationFilm">2 giờ 8phút</span>
                            </div>
                        </div>
                        <div class="showing-info__showtime">
                            <div class="showing-info__schedule">
                                <!-- <div class="box-schedule active">
                                    <div class="schedule-week">T2</div>
                                    <div class="schedule-day">21</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T3</div>
                                    <div class="schedule-day">22</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T4</div>
                                    <div class="schedule-day">23</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T5</div>
                                    <div class="schedule-day">24</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T6</div>
                                    <div class="schedule-day">27</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T7</div>
                                    <div class="schedule-day">28</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">CN</div>
                                    <div class="schedule-day">29</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T2</div>
                                    <div class="schedule-day">30</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T3</div>
                                    <div class="schedule-day">31</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T4</div>
                                    <div class="schedule-day">1</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T5</div>
                                    <div class="schedule-day">2</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">t6</div>
                                    <div class="schedule-day">3</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">T7</div>
                                    <div class="schedule-day">4</div>
                                </div>
                                <div class="box-schedule">
                                    <div class="schedule-week">CN</div>
                                    <div class="schedule-day">5</div>
                                </div> -->
                            </div>
                        </div>
                        <div class="showing-info__location">
                            <select class="select-location" name="location" id="location">
                                <!-- <option value="1">Hồ Chí Minh</option>
                                <option value="2">Hà Nội</option>
                                <option value="3">Đà Nẵng</option> -->
                            </select>
                        </div>
                    </div>
                    <div class="showing-brand">
                        <div class="list-brand">
                            <!-- <div class="brand-item active">
                                <img src="https://images.tkbcdn.com/2/48/48/poster/195d3626-b20e-11ea-978c-0242ac110004@webp"
                                    alt="CineStar">
                                <span> CineStar</span>
                            </div>
                            <div class="brand-item">
                                <img src="https://images.tkbcdn.com/2/48/48/poster/f8242538-2799-11ea-90b0-0242ac110003@webp"
                                    alt="BHD Star">
                                <span> BHD Star</span>
                            </div> -->
                        </div>
                        <div class="box-brand-address">
                            <!-- <div class="brand-address">
                                <div class="brand-address__name">
                                    CineStar Hai Bà Trưng
                                    <svg viewBox="64 64 896 896" data-icon="right" width="1em" height="1em"
                                        fill="currentColor" aria-hidden="true"
                                        style="position: absolute; right: 0px; transform: rotate(90deg); transition: transform 0.24s ease 0s; cursor: pointer;">
                                        <path
                                            d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z">
                                        </path>
                                    </svg>
                                </div>
                                <div class="brand-film-showingtime">
                                    <span class="style-film">2D</span>
                                    <div class="box-showingtime">
                                        <div class="showingtime"><a href="/error_404.html">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                    </div>
                                </div>
                            </div>
                            <div class="brand-address">
                                <div class="brand-address__name">
                                    CineStar Quốc Thanh
                                    <svg viewBox="64 64 896 896" data-icon="right" width="1em" height="1em"
                                        fill="currentColor" aria-hidden="true"
                                        style="position: absolute; right: 0px; transform: rotate(90deg); transition: transform 0.24s ease 0s; cursor: pointer;">
                                        <path
                                            d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z">
                                        </path>
                                    </svg>
                                </div>
                                <div class="brand-film-showingtime">
                                    <span class="style-film">2D</span>
                                    <div class="box-showingtime">
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                        <div class="showingtime"><a href="#">23:40</a></div>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <footer class="footer mt-auto">
        <div class="footer-top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-6">
                        <div class="footer-content">
                            <h4>Company</h4>
                            <ul class="footer-link-list">
                                <li><a href="about_us.html" class="footer-link">About Us</a></li>
                                <li><a href="help_center.html" class="footer-link">Help Center</a></li>
                                <li><a href="faq.html" class="footer-link">FAQ</a></li>
                                <li><a href="contact_us.html" class="footer-link">Contact Us</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="footer-content">
                            <h4>Useful Links</h4>
                            <ul class="footer-link-list">
                                <li><a href="create.html" class="footer-link">Create Event</a></li>
                                <li><a href="sell_tickets_online.html" class="footer-link">Sell Tickets Online</a>
                                </li>
                                <li><a href="privacy_policy.html" class="footer-link">Privacy Policy</a></li>
                                <li><a href="term_and_conditions.html" class="footer-link">Terms & Conditions</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="footer-content">
                            <h4>Resources</h4>
                            <ul class="footer-link-list">
                                <li><a href="pricing.html" class="footer-link">Pricing</a></li>
                                <li><a href="our_blog.html" class="footer-link">Blog</a></li>
                                <li><a href="refer_a_friend.html" class="footer-link">Refer a Friend</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="footer-content">
                            <h4>Follow Us</h4>
                            <ul class="social-links">
                                <li><a href="#" class="social-link"><i class="fab fa-facebook-square"></i></a>
                                <li><a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                                <li><a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                                <li><a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                                <li><a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                            </ul>
                        </div>
                        <div class="footer-content">
                            <h4>Download Mobile App</h4>
                            <div class="download-app-link">
                                <a href="#" class="download-btn"><img src="images/app-store.png" alt=""></a>
                                <a href="#" class="download-btn"><img src="images/google-play.png" alt=""></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="footer-copyright-text">
                            <p class="mb-0">© 2022, <strong>Barren</strong>. All rights reserved. Powered by
                                Gambolthemes</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/OwlCarousel/owl.carousel.js"></script>
    <script src="vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/night-mode.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script>
        document.addEventListener("DOMContentLoaded", e => {
            const scheduleContainer = document.querySelector('.showing-info__schedule'),
                boxBrandAddress = document.querySelector('.box-brand-address'),
                nameFilm = document.querySelector('.showing-info__film-name'),
                durationFilm = document.querySelector('.durationFilm'),
                roomFilm = document.querySelector('.roomFilm'),
                selectLocation = document.querySelector('.select-location'),
                listBrand = document.querySelector('.list-brand');
            const currentTime = new Date();
            const lengthDays = 14;
            const url = 'http://localhost:3000/get_movie';
            //call api 
            async function getData(url) {
                try {
                    let response = await fetch(url);
                    let data = await response.json();
                    return data;
                } catch (error) {
                    console.log(error)
                }
            }
            //main handler
            (async function mainHandler() {
                //render schedule here!
                renderUISchedule();
                // add event click for box-schedule  
                const schedulesBox = document.querySelectorAll('.box-schedule');
                handleClickScheduleBox(schedulesBox);
                // start here: 
                try {
                    let data = await getData(url);
                    renderData(data);
                } catch (error) {
                    console.log(error)
                }
            })();
            //render UI data 
            function renderData({ title, room, duration, locations, brands }) {
                renderDataFilmDetail(title, room, duration)
                renderDataLocation(locations)
                renderDateBrand(brands);
            }
            //render name, room
            function renderDataFilmDetail(name, room, duration) {
                nameFilm.textContent = name;
                roomFilm.textContent = room;
                durationFilm.textContent = duration;
            }
            //render select location
            function renderDataLocation(locations) {
                locations.forEach(location => {
                    locationOption = document.createElement('option');
                    locationOption.value = location.id;
                    locationOption.innerHTML = location.name;
                    selectLocation.appendChild(locationOption);
                })
            }
            //render brands
            function renderDateBrand(brands) {
                brands.forEach((brand, index) => {
                    const brandItem = document.createElement('div');
                    brandItem.classList.add('brand-item')
                    const imgIcon = document.createElement('img');
                    imgIcon.src = brand.icon_url;
                    imgIcon.alt = brand.name;
                    brandItem.appendChild(imgIcon);
                    const nameBrand = document.createElement('span');
                    nameBrand.textContent = brand.name
                    brandItem.appendChild(nameBrand);
                    listBrand.appendChild(brandItem);
                })
                const brandItems = document.querySelectorAll('.brand-item');
                handleClickBrandItemsBox(brandItems, brands);
            }
            //update branch and show time
            function renderBrachAndShowTime({ branch, ...rest }) {
                boxBrandAddress.innerHTML = "";
                if (branch == undefined) {
                    return;
                }
                //render branch here:
                branch.forEach((branchAddress => {
                    if (branchAddress.showing_types.length == 0) {
                        return;
                    }
                    const brandAddress = document.createElement('div');
                    brandAddress.classList.add('brand-address');
                    const brandAddressName = document.createElement('div');
                    brandAddressName.classList.add('brand-address__name');
                    brandAddressName.innerHTML = `${branchAddress.name}
                    <svg viewBox="64 64 896 896" data-icon="right" width="1em" height="1em"
                        fill="currentColor" aria-hidden="true"
                        style="position: absolute; right: 0px; transform: rotate(90deg); transition: transform 0.24s ease 0s; cursor: pointer;">
                        <path
                            d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z">
                        </path>
                    </svg>`
                    const brandFilmShowingTime = document.createElement('div');
                    brandFilmShowingTime.classList.add('brand-film-showingtime');
                    const styleFilm = document.createElement('span');
                    styleFilm.classList.add('style-film');
                    styleFilm.textContent = branchAddress.showing_types.name;
                    const boxShowingTime = document.createElement('div');
                    boxShowingTime.classList.add('box-showingtime');
                    branchAddress.showing_types.showings.forEach(showing => {
                        const showingTime = document.createElement('div');
                        showingTime.classList.add('showingtime');
                        const link = document.createElement('a');
                        link.textContent = showing.start_time
                        //link map-seat here
                        link.href = "/map-seat.html";
                        showingTime.appendChild(link);
                        boxShowingTime.appendChild(showingTime);
                    })
                    brandFilmShowingTime.appendChild(styleFilm);
                    brandFilmShowingTime.appendChild(boxShowingTime);
                    brandAddress.appendChild(brandAddressName);
                    brandAddress.appendChild(brandFilmShowingTime);
                    boxBrandAddress.appendChild(brandAddress);
                }))
                const arrows = document.querySelectorAll('.brand-address__name svg');
                const showingTimeBox = document.querySelectorAll('.brand-film-showingtime');
                arrows.forEach((arrow, index) => {
                    arrow.setAttribute('class', 'arrowControl')
                    arrow.addEventListener('click', (e) => {
                        arrow.classList.toggle('active');
                        showingTimeBox[index].classList.toggle('active');
                    })
                })
            }
            //handle selectLocation onchange
            selectLocation.addEventListener('change', (e) => {
                // filter by location here
            })
            //add event click handler for BranItemsBox 
            function handleClickBrandItemsBox(brandItems, brands) {
                brandItems.forEach((element, index) => {
                    element.addEventListener('click', (event) => {
                        if (element.classList.contains('active')) {
                            return;
                        }
                        const branItem = document.querySelector('.brand-item.active');
                        if (branItem != null) {
                            branItem.classList.remove('active');
                        }
                        element.classList.add('active');
                        renderBrachAndShowTime(brands[index])
                    })
                })
            }
            //render UI schedule 
            function renderUISchedule() {
                let daysString = convertDayToString(lengthDays);
                let dates = getDates(lengthDays);
                let fullDays = getObjectDates(lengthDays).map(date => date.toLocaleDateString('en-VN'));
                for (var i = 0; i < lengthDays; i++) {
                    const scheduleBox = document.createElement('div');
                    scheduleBox.classList.add('box-schedule');
                    if (i == 0) {
                        scheduleBox.classList.add('active');
                    }
                    scheduleBox.setAttribute('data-schedule', fullDays[i]);
                    //scheduleWeek
                    const scheduleWeek = document.createElement('div');
                    scheduleWeek.classList.add('schedule-week');
                    scheduleWeek.textContent = `${daysString[i]}`
                    scheduleBox.appendChild(scheduleWeek);
                    // scheduleDay
                    const scheduleDay = document.createElement('div');
                    scheduleDay.classList.add('schedule-day');
                    scheduleDay.textContent = dates[i]
                    scheduleBox.appendChild(scheduleDay);
                    scheduleContainer.appendChild(scheduleBox);
                }
            }
            //add event click handler for scheduleBox active 
            function handleClickScheduleBox(schedulesBox) {
                schedulesBox.forEach(element => {
                    element.addEventListener('click', (event) => {
                        if (element.classList.contains('active')) {
                            return;
                        }
                        const scheduleBoxActive = document.querySelector('.box-schedule.active');
                        scheduleBoxActive.classList.remove('active');
                        element.classList.add('active');
                        //filter by opening date
                    })
                })
            }
            //convert day to string
            function convertDayToString(lengthDays) {
                const days = getDays(lengthDays);
                const stringDay = ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'];
                return days.map((day) => stringDay[day]);
            }
            //get days
            function getDays(lengthDays) {
                const dates = getObjectDates(lengthDays);
                return dates.map((date) => date.getDay());
            }
            //get dates
            function getDates(lengthDays) {
                const dates = getObjectDates(lengthDays);
                return dates.map((date) => date.getDate());
            }
            //get Dates
            function getObjectDates(lengthDays) {
                const dates = [];
                let currentTime = new Date();
                for (let i = 0; i < lengthDays; i++) {
                    dates.push(new Date(currentTime.getFullYear(), currentTime.getMonth(), currentTime.getDate() + i));
                }
                return dates;
            }
        })
    </script>
</body>

</html>